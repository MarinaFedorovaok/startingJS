<!DOCTYPE html>
<html>
<title>Прогноз объема инвестиций</title>
  <head>
    <meta charset = "utf-8">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(buttonOn);
        var summ=1;
        var percent = 5;
        var years = 1;
        function edit_my_div() {
            summ = +document.getElementById("startDepositInput").value;
            console.log("edit_my_div: summ = ", summ);
            //drawChart();
        }
        function editPercent() {
            percent = +document.getElementById("percentInput").value;
            //drawChart();
        }

        function editYears() {
            years = +document.getElementById("yearsInput").value;
            //drawChart();
        }

        function startButtom() {
            drawChart();
        }
        //var summ = +prompt("Enter the start deposit amount")
        //var percent = +prompt("Enter the percent")
        //var years = +prompt("Enter the number of years")
        
        function buttonOn(){
            document.getElementById("startDepositButton").disabled = false;
        }
        function drawChart() {
            console.log("drawChart: summ = ", summ);
            var amount = [];
            var time = [];
            for (var i = 1; i <= years; i++){
                summ = summ*(percent+100)/100;
                amount[i-1] = summ;
                time[i-1] = i;
                console.log(amount[i-1]);
            }
            
            var chartTable = [
                ['Год',  'Объем накоплений'],
            ];
            for (var j = 0; j<= years; j++){
                chartTable.push ([time[j], amount[j]]);
            }
       var data = google.visualization.arrayToDataTable(chartTable);

        var options = {
          /*title: 'The decline of \'The 39 Steps\'',
          vAxis: {title: 'Accumulated Rating'},*/
          isStacked: true
        };

        var chart = new google.visualization.SteppedAreaChart(document.getElementById('chart_div'));

        chart.draw(data, options);
        //document.write (amount);
      }
    </script>
  </head>
  <body>
    <h3>Прогноз суммы накоплений</h3>
    <input  id= "startDepositInput" type="number">
    <button id="startDepositButton" onclick="edit_my_div()" disabled>Ввести суммy инвестиций</button>
    <p>

    <input  id= "percentInput" type="number">
    <button id="percentButton" onclick="editPercent()">Учесть процентную ставку</button>
    <p>

    <input  id= "yearsInput" type="number">
    <button id="yearstButton" onclick="editYears()">Учесть количество лет инвестирования</button>
    <p>

    <button id="start" onclick="startButtom()">Построить график накоплений</button>
    <p>
    <div id="chart_div" style="width: 900px; height: 500px;"></div>

</html>